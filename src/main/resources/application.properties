# ===== Application name =====
spring.application.name=mapapp

# ===== PostgreSQL datasource =====
spring.datasource.url=jdbc:postgresql://localhost:5432/map
spring.datasource.username=postgres
spring.datasource.password=admin
spring.datasource.driver-class-name=org.postgresql.Driver

# ===== JPA / Hibernate settings =====
spring.jpa.hibernate.ddl-auto=update
spring.jpa.properties.hibernate.format_sql=true

# ===== Logging =====
logging.level.org.hibernate.SQL=warn
logging.level.org.flywaydb=info

# ===== Server port =====
server.port=8080

# ===== JWT konfiguratsiyasi =====
app.jwt.secret=E+8Uzq4a6jWZjrFQ6HCvymM7d0yPSO1Z+5s3iTlDcH2YgKbXQv1LFNwC7/Moh+6UGKm4/NBYQr8d7jJkVYtEXJw==
app.jwt.access-exp-minutes=5
app.jwt.refresh-exp-seconds=86400
app.jwt.issuer=mapapp

# ===== Flyway (dev) =====
spring.flyway.baseline-on-migrate=true
spring.flyway.baseline-version=1

# ===== Refresh siyosati =====
app.security.refresh.rotate=true
app.security.refresh.ip-binding.enabled=true
app.security.refresh.ua-binding.enabled=true
app.security.refresh.ua-binding.mode=lenient
app.security.refresh.hash-salt=please-change-in-prod

# ===== Single-device siyosati =====
app.security.sessions.single-device.enabled=true
app.security.sessions.single-device.policy=REVOKE_OLD

# ===== Rate-limit =====
app.security.ratelimit.login.max-requests=10
app.security.ratelimit.login.window-seconds=60
app.security.ratelimit.refresh.max-requests=30
app.security.ratelimit.refresh.window-seconds=60
app.security.ratelimit.distributed.enabled=true
app.security.ratelimit.bucket4j.enabled=true

# ===== Redis =====
spring.data.redis.host=localhost
spring.data.redis.port=6379
spring.data.redis.timeout=5s

# ===== Offline CAPTCHA =====
app.captcha.enabled=true
app.captcha.length=5
app.captcha.ttl-seconds=120
app.captcha.width=160
app.captcha.height=60

# ===== Swagger (dev/test) =====
springdoc.api-docs.enabled=true
springdoc.swagger-ui.enabled=true
springdoc.swagger-ui.path=/swagger-ui.html
springdoc.api-docs.path=/api-docs

# ===== CORS (dev) =====
app.cors.enabled=true
app.cors.allowed-origins=http://localhost:5173
app.cors.allowed-methods=GET,POST,PATCH,DELETE,OPTIONS
app.cors.allowed-headers=*
app.cors.exposed-headers=Authorization
app.cors.allow-credentials=true

# ===== Uploads =====
app.uploads.dir=uploads
spring.servlet.multipart.max-file-size=5MB
spring.servlet.multipart.max-request-size=10MB

# Reverse proxy orqali to'g'ri schema/host ko'rinishi
server.forward-headers-strategy=framework
